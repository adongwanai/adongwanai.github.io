---
import Layout from '../layouts/Layout.astro';

const skillCategories = [
  {
    category: "AI Coding (AIç¼–ç¨‹å¢å¼º)",
    icon: "ğŸ¤–",
    description: "è®©ä½ çš„ AI ç¼–ç¨‹åŠ©æ‰‹æ›´åŠ å¼ºå¤§ï¼Œæå‡ä»£ç ç”Ÿæˆè´¨é‡ã€‚",
    skills: [
      {
        name: "Code Reviewer",
        type: "Claude Skill",
        description: "åŸºäº Google Engineering Practices çš„è‡ªåŠ¨åŒ–ä»£ç å®¡æŸ¥é¢„è®¾ã€‚",
        command: "claude skill add code-reviewer",
        icon: "ğŸ‘€"
      },
      {
        name: "Tech Writer",
        type: "Persona",
        description: "ä¸“æ³¨äºå°†ä»£ç é€»è¾‘è½¬æ¢ä¸ºé€šä¿—æ˜“æ‡‚çš„æŠ€æœ¯æ–‡æ¡£å’Œåšå®¢æ–‡ç« ã€‚",
        command: "mode switch writer",
        icon: "âœï¸"
      }
    ]
  },
  {
    category: "Workflow (å·¥ä½œæµæ‰©å±•)",
    icon: "âš¡ï¸",
    description: "è¿æ¥å¤–éƒ¨æœåŠ¡ä¸æ•°æ®ï¼Œè‡ªåŠ¨åŒ–ç¹æ‚çš„å·¥ä½œæµã€‚",
    skills: [
      {
        name: "Web Search MCP",
        type: "MCP Server",
        description: "èµ‹äºˆ Agent å®æ—¶è”ç½‘æœç´¢èƒ½åŠ›ï¼Œæ”¯æŒ Google/Bing èšåˆæœç´¢ã€‚",
        command: "npx @adong/mcp-search-server",
        icon: "ğŸŒ"
      },
      {
        name: "PostgreSQL Connector",
        type: "MCP Server",
        description: "å®‰å…¨çš„æ•°æ®åº“åªè¯»è¿æ¥å™¨ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢ schema å’Œæ•°æ®ã€‚",
        command: "npx @adong/mcp-postgres",
        icon: "ğŸ˜"
      }
    ]
  },
  {
    category: "Utilities (åŸºç¡€å®ç”¨å·¥å…·)",
    icon: "ğŸ› ï¸",
    description: "å¼€å‘æ—¥å¸¸ä¸­åå¤ä½¿ç”¨çš„å°å·¥å…·ä¸å‘½ä»¤é›†åˆã€‚",
    skills: [
      {
        name: "PR Generator",
        type: "Workflow",
        description: "ä¸€é”®ç”Ÿæˆç¬¦åˆ Conventional Commits è§„èŒƒçš„ PR æè¿°å’Œå˜æ›´æ—¥å¿—ã€‚",
        command: "agent run pr-gen",
        icon: "ğŸ“"
      },
      {
        name: "Image Optimizr",
        type: "Tool",
        description: "è‡ªåŠ¨å‹ç¼©å’Œæ ¼å¼è½¬æ¢é¡¹ç›®ä¸­çš„å›¾ç‰‡èµ„æºï¼Œæ”¯æŒ WebP/AVIFã€‚",
        command: "npx img-opt-cli",
        icon: "ğŸ–¼ï¸"
      }
    ]
  }
];
---

<Layout title="Agent Skills åº“ - é˜¿ä¸œç©AI">
  <div class="pt-32 pb-24 px-6 max-w-7xl mx-auto">
    <div class="text-center mb-16">
      <div class="inline-flex items-center gap-2 px-3 py-1 bg-gray-100 dark:bg-white/5 border border-gray-200 dark:border-white/10 rounded-full text-sm text-accent mb-6">
        <span>âœ¨</span>
        <span>Capabilities Expansion</span>
      </div>
      <h1 class="text-4xl md:text-5xl font-bold mb-6 text-gray-900 dark:text-white">Agent Skills Library</h1>
      <p class="text-gray-500 dark:text-gray-400 max-w-2xl mx-auto text-lg leading-relaxed">
        è¿™æ˜¯æˆ‘çš„ AI å·¥å…·ä¸æŠ€èƒ½æ¸…å•ã€‚é€šè¿‡åˆç†çš„åœºæ™¯åˆ†ç±»ï¼Œæˆ‘å°†å¸¸ç”¨çš„ MCP æœåŠ¡å™¨ã€Claude Skills å’Œå·¥ä½œæµè„šæœ¬æ•´ç†åœ¨æ­¤ï¼Œæ–¹ä¾¿æ—¥å¸¸è°ƒç”¨ä¸æŸ¥é˜…ã€‚
      </p>
    </div>

    <div class="flex flex-col gap-16">
      {skillCategories.map(section => (
        <section class="relative">
          <div class="flex items-center gap-3 mb-8 pb-4 border-b border-gray-200 dark:border-white/10">
            <span class="text-3xl bg-white dark:bg-secondary/80 p-3 rounded-xl border border-gray-200 dark:border-white/5 shadow-sm dark:shadow-inner">{section.icon}</span>
            <div>
              <h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">{section.category}</h2>
              <p class="text-gray-500 dark:text-gray-400 text-sm mt-1">{section.description}</p>
            </div>
          </div>
          
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            {section.skills.map(skill => (
              <div class="bg-white dark:bg-secondary/50 backdrop-blur-sm border border-gray-200 dark:border-white/10 rounded-xl p-6 hover:border-accent/50 dark:hover:border-accent/50 hover:bg-gray-50 dark:hover:bg-secondary transition-all duration-300 group shadow-sm hover:shadow-md dark:shadow-none">
                <div class="flex justify-between items-start mb-4">
                  <div class="text-3xl bg-gray-100 dark:bg-white/5 p-3 rounded-lg group-hover:bg-blue-50 dark:group-hover:bg-accent/10 transition-colors">
                    {skill.icon}
                  </div>
                  <span class="px-2 py-1 bg-gray-100 dark:bg-white/5 rounded text-xs font-mono text-gray-500 dark:text-gray-400 border border-gray-200 dark:border-white/5 whitespace-nowrap">
                    {skill.type}
                  </span>
                </div>
                
                <h3 class="text-xl font-bold mb-2 group-hover:text-accent dark:group-hover:text-white text-gray-900 dark:text-gray-100 transition-colors">{skill.name}</h3>
                <p class="text-gray-500 dark:text-gray-400 text-sm mb-6 leading-relaxed min-h-[40px]">
                  {skill.description}
                </p>

                <div class="bg-gray-50 dark:bg-black/40 rounded-lg p-3 flex items-center justify-between gap-2 border border-gray-200 dark:border-white/5 group-hover:border-blue-200 dark:group-hover:border-accent/20 transition-all duration-300">
                  <code class="text-xs font-mono text-accent truncate flex-1" title={skill.command}>{skill.command}</code>
                  <button
                    class="copy-btn text-gray-400 hover:text-gray-900 dark:text-gray-500 dark:hover:text-white transition-all duration-300 shrink-0 p-1 min-h-[32px] min-w-[32px] flex items-center justify-center rounded hover:bg-gray-200 dark:hover:bg-white/10 cursor-pointer"
                    data-command={skill.command}
                    aria-label="Copy command"
                  >
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                      <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                    </svg>
                  </button>
                </div>
              </div>
            ))}
          </div>
        </section>
      ))}
    </div>

    <div class="mt-20 text-center">
      <div class="inline-flex flex-col items-center p-8 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-secondary dark:to-black/50 rounded-2xl border border-gray-200 dark:border-white/10 shadow-lg relative overflow-hidden group">
        <div class="absolute inset-0 bg-blue-50 dark:bg-accent/5 opacity-0 group-hover:opacity-100 transition-opacity"></div>
        <h3 class="text-xl font-bold mb-3 relative z-10 text-gray-900 dark:text-white">å¦‚ä½•éƒ¨ç½²ä¸ä½¿ç”¨ï¼Ÿ</h3>
        <p class="text-gray-500 dark:text-gray-400 text-sm mb-6 max-w-md relative z-10 leading-relaxed">
          ä¸Šè¿° Skills é…ç½®å¤§å¤šæ•°æ”¯æŒé€šè¿‡ MCP åè®®å¿«é€Ÿé›†æˆåˆ°å„ç±» AI ç¼–è¾‘å™¨ï¼ˆå¦‚ Cursorã€Wind Surfã€Claude Desktopï¼‰ä¸­ã€‚
        </p>
        <a href="https://github.com/adongwanai" target="_blank" class="px-6 py-2 bg-white dark:bg-white/10 hover:bg-gray-50 dark:hover:bg-white/20 border border-gray-200 dark:border-white/10 rounded-full text-gray-900 dark:text-white transition-all font-medium flex items-center justify-center gap-2 relative z-10 shadow-sm">
          æŸ¥çœ‹éƒ¨ç½²æŒ‡å— <span class="text-xl leading-none">â†’</span>
        </a>
      </div>
    </div>
  </div>
</Layout>

<script>
  // Copy to clipboard functionality
  document.querySelectorAll('.copy-btn').forEach(btn => {
    btn.addEventListener('click', async () => {
      const command = btn.getAttribute('data-command');
      if (!command) return;

      try {
        await navigator.clipboard.writeText(command);

        // Show success feedback
        const originalHTML = btn.innerHTML;
        btn.innerHTML = '<svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>';
        btn.classList.add('text-green-500');
        btn.setAttribute('aria-label', 'Copied!');

        // Reset after 2 seconds
        setTimeout(() => {
          btn.innerHTML = originalHTML;
          btn.classList.remove('text-green-500');
          btn.setAttribute('aria-label', 'Copy command');
        }, 2000);
      } catch (err) {
        console.error('Failed to copy:', err);
        btn.classList.add('text-red-500');
        setTimeout(() => btn.classList.remove('text-red-500'), 2000);
      }
    });
  });
</script>
