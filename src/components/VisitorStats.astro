---
/**
 * Visitor Statistics Component
 *
 * Simple, clean design with:
 * - ClustrMaps visitor location map
 * - Total visitors counter
 */

const CLUSTR_MAPS_KEY = "NiPLw9UeKqKiyAOgzHHVc4iD0x55ATCD65234WLG5IQ";
const HITWEBCOUNTER_ID = "adongportfolio";
---

<div class="visitor-section">
  <div class="visitor-container">
    <!-- Map -->
    <div class="map-wrapper">
      <script
        id="clustrmaps"
        is:inline
        type="text/javascript"
        src="//clustrmaps.com/map_v2.js?d={CLUSTR_MAPS_KEY}&cl=ffffff&w=a"
      ></script>
    </div>

    <!-- Counter -->
    <div class="counter-wrapper">
      <div class="counter-label">Total Visitors</div>
      <a
        href="https://www.hitwebcounter.com"
        target="_blank"
        rel="nofollow"
        class="counter-link"
      >
        <img
          src="https://hitwebcounter.com/counter/counter.php?page={HITWEBCOUNTER_ID}&style=0038&nbdigits=6&type=page&initCount=0"
          alt="Visitors"
          class="counter-img"
        />
      </a>
    </div>
  </div>
</div>

<style>
  .visitor-section {
    padding: 3rem 1rem;
    border-top: 1px solid rgb(229 231 235);
  }

  :global(.dark) .visitor-section {
    border-top-color: rgba(255, 255, 255, 0.1);
  }

  .visitor-container {
    max-width: 900px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2rem;
  }

  @media (min-width: 640px) {
    .visitor-container {
      flex-direction: row;
      justify-content: center;
      align-items: center;
      gap: 3rem;
    }
  }

  .map-wrapper {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .map-wrapper :global(div) {
    max-width: 100% !important;
  }

  .counter-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 1.5rem 2rem;
    background: linear-gradient(135deg, rgb(249 250 251) 0%, rgb(243 244 246) 100%);
    border-radius: 1rem;
    border: 1px solid rgb(229 231 235);
  }

  :global(.dark) .counter-wrapper {
    background: linear-gradient(135deg, rgb(17 24 39) 0%, rgb(31 41 55) 100%);
    border-color: rgba(255, 255, 255, 0.1);
  }

  .counter-label {
    font-size: 0.75rem;
    font-weight: 600;
    color: rgb(107 114 128);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  :global(.dark) .counter-label {
    color: rgb(156 163 175);
  }

  .counter-link {
    display: block;
    transition: transform 0.2s ease, opacity 0.2s ease;
  }

  .counter-link:hover {
    transform: scale(1.02);
    opacity: 0.9;
  }

  .counter-img {
    display: block;
    height: auto;
    max-width: 200px;
  }
</style>
